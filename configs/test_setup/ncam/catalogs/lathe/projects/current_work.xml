<lcnc-ncam>
  <feature src="lathe/material.cfg" expanded="False" help="&lt;b&gt;Workpiece or raw material used&lt;/b&gt;" icon="l-stock.png" old-selected="True" after="" name="Workpiece" order="['PARAM_SH', 'PARAM_H1', 'PARAM_OD', 'PARAM_ID', 'PARAM_L', 'PARAM_Z', 'PARAM_H2', 'PARAM_WMODE', 'PARAM_X_RAP', 'PARAM_Z_RAP']" init="" version="1.14" new-selected="False" definitions="" call="&#10;(begin #sub_name)&#10;(author : Fernand Veilleux)&#10;&#10;G#param_wmode (Diameter = 7, Radius = 8)&#10;#&lt;_diameter_mode&gt; = [#&lt;_lathe_diameter_mode&gt; + 1] (value is 1 for radius and 2 for diameter)&#10;&#10;#&lt;_wp_dia_od&gt; = [#param_od / 2 * #&lt;_diameter_mode&gt;]&#10;#&lt;_wp_dia_id&gt; = [#param_id / 2 * #&lt;_diameter_mode&gt;]&#10;&#10;#&lt;_x_rapid&gt;  = [#param_x_rap * #&lt;_diameter_mode&gt;]&#10;#&lt;_z_rapid&gt;  = #param_z_rap&#10;&#10;/ o&lt;#self_id1&gt; if [#param_sh EQ 1]&#10;&#9;/ o&lt;show_stock&gt; CALL [#param_z] [#param_l]&#10;/ o&lt;#self_id1&gt; endif&#10;&#10;(end #sub_name)" path="0" hidden_count="0" type="workpiece" id="workpiece_001" validation="&#10;if self.check_hash('#param_od', 1) &lt;= self.check_hash('#param_id', 1) :&#10;&#9;VALIDATED = False&#10;&#9;self.msg_inv(_('External diameter must be greater than the internal'), 1)" before="">
    <param old_type="bool" name="Show limits" value="0" call="#param_sh" path="0:0" type="bool"/>
    <param type="sub-header" old_type="sub-header" call="#param_h1" name="Size and coord" path="0:1"/>
    <param old_type="float" name="Ext. diameter" metric_value="50.0" value="1.9685039370" header="h1" call="#param_od" not_allowed="0" path="0:1:0" minimum_value="0.0" type="float" icon="e-diam.png"/>
    <param tool_tip="Only if hollow" old_type="float" name="Int. diameter" metric_value="0.0" value="0.5787401575" header="h1" call="#param_id" path="0:1:1" minimum_value="0.0" type="float" icon="i-diam.png"/>
    <param old_type="float" name="Length" metric_value="250.0" value="3.9370078740" header="h1" call="#param_l" not_allowed="0" path="0:1:2" minimum_value="0.0" type="float" icon="width.png"/>
    <param tool_tip="Z coord at tip" old_type="float" name="Begin position" metric_value="0.0" value="0.0" header="h1" call="#param_z" path="0:1:3" type="float" icon="z.png"/>
    <param type="sub-header" old_type="sub-header" call="#param_h2" name="Params" path="0:2"/>
    <param old_type="combo" name="Work mode" value="7" header="h2" call="#param_wmode" path="0:2:0" type="combo" options="Diameter=7:Radius=8" icon="circle-rad-dia.png"/>
    <param tool_tip="When job is done" old_type="float" name="Safe X rapid" metric_value="25.0" value="0.3937007874" header="h2" call="#param_x_rap" not_allowed="0" path="0:2:1" minimum_value="0.0" type="float" icon="lathe-rappid-x.png"/>
    <param tool_tip="When job is done" old_type="float" name="Safe Z rapid" metric_value="25.0" value="0.3937007874" header="h2" call="#param_z_rap" not_allowed="0" path="0:2:2" icon="lathe-rappid-z.png" type="float" minimum_value="0.0"/>
  </feature>
  <feature src="lathe/tool-change.cfg" after="" help="&lt;b&gt;Change Tool and/or settings&lt;/b&gt;&amp;#10;Changes setting accordingly even if disabled" old-selected="False" before="" id="tool_change_001" expanded="False" validation="&#10;TOOL_TABLE.save_tool_orient(#param_dnum)" new-selected="False" init="&#10;a = parent.get_param('param_mode').get_attr('value')&#10;parent.get_param('param_surf_speed').set_grayed(a == '1')&#10;if a == '1' :&#10;&#9;parent.get_param('param_speed').attr['name'] = 'Spindle speed'&#10;else :&#10;&#9;parent.get_param('param_speed').attr['name'] = 'Max spindle'" version="1.14" hidden_count="0" path="1" call="&#10;(begin #sub_name)&#10;(author : Fernand Veilleux)&#10;&#10;o&lt;#self_id_tlc&gt; if [[#param_tlc EQ 3] AND [#param_dnum GT 0]]&#10;&#9;M61 Q#param_dnum&#10;o&lt;#self_id_tlc&gt; endif&#10;&#10;o&lt;#self_id_act&gt; if [#param_act AND [#param_dnum NE #5400]]&#10;&#9;M9  (coolant off)&#10;&#9;T#param_dnum M6&#10;&#9;o&lt;#self_id_lc&gt; if [#param_tlc GE 1]&#10;&#9;&#9;G43 H#param_dnum&#10;&#9;o&lt;#self_id_lc&gt; endif&#10;o&lt;#self_id_act&gt; endif&#10;&#10;#&lt;_tool_usage&gt;   =  #param_us&#10;#&lt;_spindle_dir&gt;  =  #param_spindle_dir&#10;#&lt;_cooling_mode&gt; =  #param_cooling&#10;&#10;#&lt;_rough_feed&gt;   =  #param_r_feed&#10;#&lt;_rough_cut&gt;    =  #param_c_dpt&#10;&#10;#&lt;_finish_feed&gt;  =  #param_f_feed&#10;#&lt;_finish_cut&gt;   =  #param_fc_dpt&#10;&#10;o&lt;#self_id1&gt; if [#param_mode EQ 0]&#10;&#9;G96 D#param_speed S#param_surf_speed&#10;o&lt;#self_id1&gt; else&#10;&#9;G97 S#param_speed&#10;o&lt;#self_id1&gt; endif&#10;&#10;o&lt;#self_id2&gt; if [#&lt;_spindle_dir&gt; GT 0]&#10;&#9;M#&lt;_spindle_dir&gt;&#10;&#9;G4 P#&lt;_spindle_speed_up_delay&gt;&#10;o&lt;#self_id2&gt; endif&#10;&#10;#&lt;_z_clear&gt;  = [#5410 + #param_rz]&#10;#&lt;_x_clear&gt;  = [[#5410 + #param_rx] * #&lt;_diameter_mode&gt;]&#10;#&lt;_ix_clear&gt; = [#param_rix * #&lt;_diameter_mode&gt;]&#10;&#10;F#&lt;_rough_feed&gt;&#10;&#10;(end #sub_name)" definitions="" icon="lathe-tool-change.png" type="tool_change" order="['PARAM_ACT', 'PARAM_H1', 'PARAM_DNUM', 'PARAM_US', 'PARAM_TLC', 'PARAM_SPINDLE_DIR', 'PARAM_COOLING', 'PARAM_H2', 'PARAM_MODE', 'PARAM_SPEED', 'PARAM_SURF_SPEED', 'PARAM_H8', 'PARAM_R_FEED', 'PARAM_C_DPT', 'PARAM_H4', 'PARAM_F_FEED', 'PARAM_FC_DPT', 'PARAM_HC', 'PARAM_RX', 'PARAM_RIX', 'PARAM_RZ']" name="Tool Change">
    <param tool_tip="Params will be set even if disabled" old_type="bool" name="Active" value="1" call="#param_act" path="1:0" type="bool" icon="enable.png"/>
    <param call="#param_h1" old_type="sub-header" type="sub-header" name="Tool and usage" path="1:1"/>
    <param tool_tip="Select from tool table" old_type="tool" name="Tool number" value="4" header="h1" call="#param_dnum" path="1:1:0" type="tool" icon="lathe-tool.png"/>
    <param tool_tip="Select usage for this tool" old_type="combo" name="Usage" value="0" header="h1" call="#param_us" path="1:1:1" type="combo" options="Roughing and finishing=0:Roughing=1:Finishing=2" icon="tool-usage.png"/>
    <param tool_tip="Use G43 and probe if setup" old_type="combo" name="Use length comp" value="1" header="h1" call="#param_tlc" path="1:1:2" type="combo" options="No=0:Already mounted and touched=3:From tool table=1:Table and probe=2" icon="comp-l.png"/>
    <param tool_tip="Select spindle rotation" old_type="combo" name="Start spindle" value="4" header="h1" call="#param_spindle_dir" path="1:1:3" type="combo" options="No=5:Clockwise=3:Counter-clockwise=4" icon="lathe-dir.png"/>
    <param tool_tip="Use flood, mist or none" old_type="combo" name="Use cooling" value="9" header="h1" call="#param_cooling" path="1:1:4" type="combo" options="None=9:Flood=8:Mist=7" icon="snowflake.png"/>
    <param call="#param_h2" old_type="sub-header" type="sub-header" name="Spindle control" path="1:2"/>
    <param old_type="combo" name="Mode" value="1" header="h2" call="#param_mode" value_changed="&#10;parent.get_param('param_surf_speed').set_grayed(new_val == '1')&#10;if new_val == '1' :&#10;&#9;parent.get_param('param_speed').attr['name'] = 'Spindle speed'&#10;else :&#10;&#9;parent.get_param('param_speed').attr['name'] = 'Max spindle'" path="1:2:0" type="combo" options="Constant surface speed=0:RPM=1" icon="lathe-chuck.png"/>
    <param tool_tip="RPM spindle speed" old_type="int" name="Spindle speed" value="800" header="h2" call="#param_speed" path="1:2:1" minimum_value="10" type="int" icon="tool-spindle.png"/>
    <param tool_tip="Constant spindle speed" old_type="int" name="Surface speed" grayed="1" value="250" header="h2" call="#param_surf_speed" path="1:2:2" minimum_value="100" type="int" icon="tool-spindle.png"/>
    <param tool_tip="Set these when usage is roughing" old_type="sub-header" name="Roughing" call="#param_h8" path="1:3" type="sub-header"/>
    <param tool_tip="Feed at 100% engagement" old_type="float" name="Feed" metric_value="75.0" value="0.0118110236" header="h8" call="#param_r_feed" not_allowed="0" path="1:3:0" icon="lathe-feed.png" type="float" minimum_value="0.0"/>
    <param tool_tip="Depth of cutter engagment in machine units per pass" old_type="float" name="Cut depth" metric_value="0.5" value="0.0393700787" header="h8" call="#param_c_dpt" not_allowed="0" path="1:3:1" icon="lathe-depth-step.png" type="float" minimum_value="0.0"/>
    <param tool_tip="Set these when usage include finishing" old_type="sub-header" name="Finishing" call="#param_h4" path="1:4" type="sub-header"/>
    <param tool_tip="Feed at 100% engagement" old_type="float" name="Feed" metric_value="50.0" value="0.0019685039" header="h4" call="#param_f_feed" not_allowed="0" path="1:4:0" icon="lathe-feed.png" type="float" minimum_value="0.0"/>
    <param tool_tip="Depth of cutter engagment in machine units per pass" old_type="float" name="Cut depth" metric_value="0.25" value="0.01" header="h4" call="#param_fc_dpt" not_allowed="0" path="1:4:1" icon="lathe-depth-step.png" type="float" minimum_value="0.0"/>
    <param call="#param_hc" old_type="sub-header" type="sub-header" name="Clearances" path="1:5"/>
    <param tool_tip="Retract distance on multiple passes" old_type="float" name="Retract X" metric_value="1.0" value="0.0393700787402" header="hc" call="#param_rx" not_allowed="0" path="1:5:0" icon="lx-clear.png" type="float" minimum_value="0.0"/>
    <param tool_tip="Retract distance" old_type="float" name="Int. retract X" metric_value="1.0" value="0.0393700787402" header="hc" call="#param_rix" not_allowed="0" path="1:5:1" icon="ix-clear.png" type="float" minimum_value="0.0"/>
    <param tool_tip="Retract distance on multiple passes" old_type="float" name="Retract Z" metric_value="1.0" value="0.0393700787402" header="hc" call="#param_rz" not_allowed="0" path="1:5:2" icon="lz-clear.png" type="float" minimum_value="0.0"/>
  </feature>
  <feature src="lathe/taper_ida.cfg" before="" after="" help="&lt;b&gt;Inside taper by angle and small/large diameter/radius&lt;/b&gt;&amp;#10;Cutter orientation should be 3, 9 or None" old-selected="False" hidden_count="0" id="taper_ida_001" expanded="False" validation="&#10;if #param_act == 1 :&#10;&#9;if self.check_hash('#param_b_x', 0) == self.check_hash('#param_e_x', 1) :&#10;&#9;&#9;self.msg_inv(_('Diameters must be different'), 1)&#10;&#9;&#9;VALIDATED = False&#10;&#10;&#9;if TOOL_TABLE.get_tool_orient() not in [0, 3, 8, 9] :&#10;&#9;&#9;self.msg_inv(_('Cutter orientation should be 8, 3, 9 or 0'), 2)&#10;" init="" version="1.14" new-selected="False" path="2" call="&#10;(begin #sub_name)&#10;(author : Fernand Veilleux)&#10;&#10;o&lt;#self_id_act&gt; if [#param_act]&#10;&#9;o&lt;taper_id&gt; CALL [#param_b_x] [#param_e_x] [#param_b_z] [#param_a] [#param_fin] [#param_pa]&#10;o&lt;#self_id_act&gt; endif&#10;&#10;(end #sub_name)" definitions="" icon="taper-ida.png" type="taper_ida" order="['PARAM_ACT', 'PARAM_HX', 'PARAM_B_X', 'PARAM_E_X', 'PARAM_HZ', 'PARAM_B_Z', 'PARAM_HP', 'PARAM_A', 'PARAM_PA', 'PARAM_HF', 'PARAM_FIN']" name="Taper IDA">
    <param name="Active" value="1" call="#param_act" path="2:0" type="bool" icon="enable.png"/>
    <param call="#param_hx" type="sub-header" name="X axis" path="2:1"/>
    <param name="Small diameter" metric_value="20.0" value="0.5905511811" header="hx" call="#param_b_x" not_allowed="0" path="2:1:0" icon="taperi-x-sd.png" type="float" minimum_value="0.0"/>
    <param name="Large diameter" metric_value="25.0" value="1.2795275591" header="hx" call="#param_e_x" path="2:1:1" icon="taperi-x-ld.png" type="float" minimum_value="0.0"/>
    <param call="#param_hz" type="sub-header" name="Z axis" path="2:2"/>
    <param tool_tip="End will be defined by angle" name="Begin" metric_value="0.0" value="0.0196850394" header="hz" call="#param_b_z" path="2:2:0" type="float" icon="taperi-z-ld.png"/>
    <param call="#param_hp" type="sub-header" name="Params" path="2:3"/>
    <param digits="2" tool_tip="0 &amp;#176; &amp;lt; Angle &amp;lt; 90 &amp;#176;" suffix="&amp;#176;" name="Angle" maximum_value="90.0" value="8.3000000000" header="hp" call="#param_a" not_allowed="0:90" path="2:3:0" minimum_value="0.0" type="float" icon="angle.png"/>
    <param name="Path" value="1" header="hp" call="#param_pa" path="2:3:1" type="combo" options="Follow drive line=0:Angular=1"/>
    <param call="#param_hf" type="sub-header" name="Finishing" path="2:4"/>
    <param tool_tip="Or spring passes" name="Number of passes" value="0" header="hf" call="#param_fin" path="2:4:0" icon="finish.png" type="int" minimum_value="0"/>
  </feature>
  <feature src="lathe/taper_idl.cfg" expanded="False" help="&lt;b&gt;Inside taper by length and small/large diameter/radius&lt;/b&gt;&amp;#10;Cutter orientation should be 3, 9 or None" icon="taper-idl.png" old-selected="False" name="Taper IDL" after="" definitions="" order="['PARAM_ACT', 'PARAM_HX', 'PARAM_B_X', 'PARAM_E_X', 'PARAM_HZ', 'PARAM_B_Z', 'PARAM_E_Z', 'PARAM_HP', 'PARAM_PA', 'PARAM_HF', 'PARAM_FIN']" init="" version="1.14" hidden_count="0" path="3" call="&#10;(begin #sub_name)&#10;(author : Fernand Veilleux)&#10;&#10;o&lt;#self_id_act&gt; if [#param_act]&#10;&#9;o&lt;line&gt; CALL [#param_b_z] [-#param_b_x / 2] [#param_e_z] [-#param_e_x / 2]&#10;&#10;&#9;o&lt;taper_id&gt; CALL [#param_b_x] [#param_e_x] [#param_b_z] [#&lt;_line_phi&gt;] [#param_fin] [#param_pa]&#10;o&lt;#self_id_act&gt; endif&#10;&#10;(end #sub_name)" new-selected="False" validation="&#10;if #param_act == 1 :&#10;&#9;if self.check_hash('#param_b_x', 0) == self.check_hash('#param_e_x', 1) :&#10;&#9;&#9;self.msg_inv(_('Diameters must be different'), 1)&#10;&#9;&#9;VALIDATED = False&#10;&#10;&#9;if self.check_hash('#param_b_z', 0) == self.check_hash('#param_e_z', 0) :&#10;&#9;&#9;self.msg_inv(_('Begin Z must not be equal to End Z'), 2)&#10;&#9;&#9;VALIDATED = False&#10;&#10;&#9;if TOOL_TABLE.get_tool_orient() not in [0, 3, 4, 8, 9] :&#10;&#9;&#9;self.msg_inv(_('Cutter orientation should be 3, 8, 4, 9 or 0'), 3)&#10;" type="taper_idl" id="taper_idl_001" before="">
    <param name="Active" value="1" call="#param_act" path="3:0" type="bool" icon="enable.png"/>
    <param type="sub-header" call="#param_hx" name="X axis" path="3:1"/>
    <param name="Small diameter" metric_value="20.0" value="0.6102362205" header="hx" call="#param_b_x" path="3:1:0" not_allowed="0" minimum_value="0.0" type="float" icon="taperi-x-sd.png"/>
    <param name="Large diameter" metric_value="25.0" value="1.2795275591" header="hx" call="#param_e_x" path="3:1:1" minimum_value="0.0" type="float" icon="taperi-x-ld.png"/>
    <param type="sub-header" call="#param_hz" name="Z axis" path="3:2"/>
    <param name="Large diameter" metric_value="0.0" value="0.0000000000" header="hz" call="#param_b_z" path="3:2:0" type="float" icon="taperi-z-ld.png"/>
    <param name="Small diameter" metric_value="-25.0" value="-0.7952755906" header="hz" call="#param_e_z" path="3:2:1" type="float" icon="taperi-z-sd.png"/>
    <param type="sub-header" call="#param_hp" name="Params" path="3:3"/>
    <param name="Path" value="1" header="hp" call="#param_pa" path="3:3:0" type="combo" options="Follow drive line=0:Angular=1"/>
    <param type="sub-header" call="#param_hf" name="Finishing" path="3:4"/>
    <param tool_tip="Or spring passes" name="Number of passes" value="1" header="hf" call="#param_fin" path="3:4:0" minimum_value="0" type="int" icon="finish.png"/>
  </feature>
</lcnc-ncam>
